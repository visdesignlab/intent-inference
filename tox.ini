[tox]
envlist = lint, test

[testenv]
deps =
    # Common dependencies
    flake8<6

[testenv:lint]
skipsdist = true
skip_install = true
basepython = python3
deps =
    {[testenv]deps}
    flake8-black
    flake8-quotes
    flake8-bugbear
commands =
    flake8 --extend-exclude=src/intent_inference/__init__.py intent_inference/tests intent_inference

[testenv:type]
skipsdist = true
skip_install = true
usedevelop = true
deps =
    {[testenv]deps}
    mypy
commands =
    mypy intent_inference

[testenv:test]
deps =
    {[testenv]deps}
    pytest
    pytest-cov
commands =
    pytest {posargs} intent_inference/tests

[testenv:format]
skipsdist = true
skip_install = true
basepython = python3
deps =
    {[testenv]deps}
    black
commands =
    # Run Black to format the code
    black {posargs} intent_inference/tests intent_inference